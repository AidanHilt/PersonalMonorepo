radarr:
  urlBase: radarr

  configSecret:
    existingSecret: radarr-config-secret

  externalAuth: true

serviceAccount:
  create: true
  name: radarr
  annotations:
    "helm.sh/hook": pre-install
    "helm.sh/hook-weight": "-2"

postgres:
  enabled: true
  setupJob:
    setupJobServiceAccount: setup-job
    setupJobSecret: setup-job-config-secret

persistence:
  videos:
    enabled: true
    type: hostPath
    mountPath: /videos
    hostPath: /videos

# I know I know, but I needed to get this working, and on RKE it looks like everything is owned by root. Long-term, we'll need to figure this out,
# but it's fine for a first pass
securityContext:
  runAsUser: 0
  runAsGroup: 0
# initContainers:
#   init-tv-dir:
#     image: busybox
#     command: ["sh", "-c", "mkdir -p /videos/Movies"]
#     volumeMounts:
#       - name: videos
#         mountPath: /videos
#   fix-permissions:
#     image: busybox
#     command: ["sh", "-c", "chmod -R 777 /videos"]
#     volumeMounts:
#       - name: videos
#         mountPath: /videos

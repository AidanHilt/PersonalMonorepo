#================================================================================================================================================
# You should be able to use any of the values you can find here: https://github.com/bjw-s/helm-charts/blob/main/charts/library/common/values.yaml
#================================================================================================================================================
image:
  repository: fallenbagel/jellyseerr
  pullPolicy: IfNotPresent
  tag: 2.7.3

service:
  main:
    ports:
      http:
        enabled: true
        port: 80
        targetPort: 5055

persistence:
  config:
    enabled: false

#================================
# Jellyseerr specific configuration
#================================
jellyseerr:
  # A pre-installed API key for Jellyseerr. If this is not provided, no API key will be set, and
  # none of the other configuration options will work
  apiKey: ""

  # Note: If this is set, the apiKey field will be ignored
  configSecret:
    existingSecret: ""

  postgres:
    enabled: false

    username: jellyseerr_user
    password: ""

    port: 5432
    host: postgres-cluster-rw.postgres.svc.cluster.local

    dbName: jellyseerr

    # True if we want to run a hook after install to get the DB set up, false otherwise
    setupJob:
      enabled: true

      # This probably doesn't matter in your setup, but you may need to change this if you're
      # using some kind of external secrets operator that authenticates with service accounts
      setupJobServiceAccount: default

      # The name of a pre-existing secret containing the MASTER username and password for postgres
      # This user needs to have access to set stuff up for the Prowlarr user. Required if setupJob.enabled
      # is set to true
      setupJobSecret: setup-job-config-secret

      secretUsernameKey: masterUsername
      secretPasswordKey: masterPassword

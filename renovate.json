{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:base"
  ],
  "prHourlyLimit": 10,
  "helm-values": {
    "fileMatch": [
      "kubernetes/helm-charts/.+/.+/values\\.ya?ml$"
    ]
  },
  "helmv3": {
    "fileMatch": [
      "kubernetes/helm-charts/.+/.+/Chart\\.ya?ml$"
    ]
  },
  "pep621": {
    "fileMatch": [
      "atils/pyproject.toml"
    ]
  },
  "poetry": {
    "fileMatch": [
      "atils/pyproject.toml",
      "atils/poetry.lock"
    ]
  },
  "packageRules": [
    {
      "description": "Group all Helm-related updates into one PR",
      "matchManagers": [
        "helmv3",
        "helm-values"
      ],
      "groupName": "helm-updates",
      "commitMessageTopic": "Helm charts and values",
      "additionalBranchPrefix": "helm-",
      "schedule": [
        "before 6am on monday"
      ]
    },
    {
      "description": "Group all python updates into one PR",
      "matchDepTypes": [
        "pep621",
        "poetry"
      ],
      "groupName": "python-updates",
      "commitMessageTopic": "Python-related dependencies",
      "additionalBranchPrefix": "python-",
      "schedule": [
        "before 6am on monday"
      ]
    }
  ]
}